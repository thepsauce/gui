expr = function {
	local l = 1 + 2 * 3
	print("1 + 2 * 3=", l, "\n")
	local l = (1 + 2) * 3
	print("(1 + 2) * 3=", l, "\n")
}

Some:
	:init = function {}
	:draw = function {}
	:event = function event e {}
	:me = function {
		print("yes, it is I, vladimir\n")
	}

main = function {
	local s = CreateView("Some")
	s.me()

	print(color white.red, "\n")
	if 2 < 3 {
		print("2 < 3: ye\n")
	} else {
		print("2 < 3: no\n")
	}
	if (3 >= 4) {
		print("3 >= 4: help\n")
	}
	if (4 >= 3) {
		print("4 >= 3: pleh\n")
	}
	if 2 != 3 {
		print("2 != 3: yes\n")
	}
	expr()
	local l = float 2.3e-3
	print("float 2.3e-3=", l, "\n")
	local l = .23e2
	print(".23e2=", l, "\n")
	local l = int 33
	print("int 33=", l, "\n")
	local l = 2.3e3
	print("2.3e3=", l, "\n")
	local l = 33
	print("33=", l, "\n")
	local l = int 33e2
	print("int 33e2=", l, "\n")
	local l = 43e3
	print("43e3=", l, "\n")
	local l = float 2.2134e1
	print("2.2134e1=", l, "\n")
	local l = 234e-1
	print("234e-1=", l, "\n")
	local l = 0b0.101e1
	print("0b0.101e1=", l, "\n")

	local b = CreateView("Button", 10, 10, 80, 30)
	SetParent(b, DefaultView())

	return 0
}

; The second and all following "Button:" are not needed as typing
"Button:" alone will switch to that label. But it can be used as a
stylistic choice, it reminds of C++ ;

Button::font = int 0
Button::fontSize = int 16
Button::mouse = point ()

Button::init = function {
	font = CreateFont("FiraCode-Regular.ttf", fontSize)
}

Button::draw = function {
	SetFont(font)
	SetDrawColor(color green)
	DrawText("Hello there\nWhat is this?\nおす\n", 30, 30)

	SetDrawColor(color hsl (200, 1, 0.4))
	DrawEllipse(80, 80, 30, 30)
	FillEllipse(mouse.x, mouse.y, 30, 30)
}

Button::event = function event e {
	; a == b is equivalent to equals(a, b) ;
	; side note: a == b && b == c is equivalent to equals(a, b, c) ;
	; This can also be written as "if (...) {" (additional round brackets) ;
	if GetType(e) == const EVENT_MOUSEMOVE {
		mouse = GetPos(e)
	}
	if GetType(e) == const EVENT_MOUSEWHEEL {
		fontSize = fontSize + GetWheel(e)
		if fontSize == 0 {
			fontSize = 1
		}
		font = CreateFont("FiraCode-Regular.ttf", fontSize)
	}
}
